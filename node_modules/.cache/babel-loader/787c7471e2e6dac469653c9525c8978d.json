{"remainingRequest":"D:\\DownLoad\\git\\achieve\\AchieveIt-web\\node_modules\\babel-loader\\lib\\index.js!D:\\DownLoad\\git\\achieve\\AchieveIt-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\DownLoad\\git\\achieve\\AchieveIt-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\DownLoad\\git\\achieve\\AchieveIt-web\\src\\views\\home\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\DownLoad\\git\\achieve\\AchieveIt-web\\src\\views\\home\\Home.vue","mtime":1584099524345},{"path":"D:\\DownLoad\\git\\achieve\\AchieveIt-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DownLoad\\git\\achieve\\AchieveIt-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\DownLoad\\git\\achieve\\AchieveIt-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\DownLoad\\git\\achieve\\AchieveIt-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { NavBar, SideBar, AppMain, ReuseTab, MenuTab, BackTop } from '@/components/layout';\nvar navBarHeight = 66; // header高度\n\nvar reuseTabHeight = 70; // 历史记录栏高度\n\nvar marginHeight = 20; // 历史记录栏与舞台的间距\n\nvar sideBarWidth = '210px';\nvar totalHeight = navBarHeight + reuseTabHeight + marginHeight;\nexport default {\n  name: 'layout',\n  data: function data() {\n    return {\n      isCollapse: false,\n      // 左侧菜单栏是否折叠\n      sideBarWidth: sideBarWidth,\n      // 左侧菜单栏展开的宽度\n      clientWidth: 0,\n      // 页面宽度\n      clientHeight: 0,\n      // 页面高度\n      foldState: false,\n      // 控制左侧菜单栏按键\n      isPhone: false\n    };\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    var _this = this;\n\n    this.setResize(); // console.log(this.clientWidth)\n\n    if (this.clientWidth < 500) {\n      this.isPhone = true;\n    } else {\n      this.isPhone = false; // 检测屏幕宽度, 确定默认是否展开\n\n      if (this.clientWidth <= 768) {\n        this.eventBus.$emit('removeSidebarSearch');\n        this.isCollapse = true;\n      } else {\n        this.isCollapse = false;\n        this.eventBus.$emit('showSidebarSearch');\n      }\n    } // 监测屏幕宽度 折叠左侧菜单栏\n\n\n    window.onresize = function () {\n      _this.setResize();\n\n      if (_this.clientWidth <= 500) {\n        _this.isPhone = true;\n      } else if (_this.clientWidth <= 800) {\n        _this.isPhone = false;\n      } // if (_this.clientWidth <= 768) {\n      //   // 页面宽度 768\n      //   if (_this.isCollapse === false) {\n      //     _this.eventBus.$emit('removeSidebarSearch')\n      //     _this.isCollapse = true\n      //   }\n      // } else if (_this.isCollapse === true) {\n      //   _this.eventBus.$emit('showSidebarSearch')\n      //   _this.isCollapse = false\n      // }\n\n    };\n\n    this.eventBus.$on('noReuse', function () {\n      _this.$refs.operate.style.height = '86px';\n    });\n    this.eventBus.$on('hasReuse', function () {\n      _this.$refs.operate.style.height = '45px';\n    });\n  },\n  inject: ['eventBus'],\n  computed: {\n    elMenuCollapse: function elMenuCollapse() {\n      if (this.isPhone) {\n        return false;\n      }\n\n      return this.isCollapse;\n    },\n    asideStyle: function asideStyle() {\n      var style = {};\n\n      if (this.isPhone) {\n        style.position = 'absolute';\n        style.height = \"\".concat(this.clientHeight, \"px\");\n        style.zIndex = 12;\n\n        if (this.isCollapse === false) {\n          style.transform = \"translateX(-\".concat(sideBarWidth, \")\");\n        } else {\n          style.transform = 'translateX(0)';\n        }\n      }\n\n      return style;\n    }\n  },\n  methods: {\n    // 控制菜单折叠\n    changeSlidebarState: function changeSlidebarState() {\n      this.isCollapse = !this.isCollapse;\n\n      if (this.isCollapse) {\n        this.eventBus.$emit('removeSidebarSearch');\n      } else {\n        this.eventBus.$emit('showSidebarSearch');\n      }\n\n      this.foldState = !this.foldState;\n    },\n    // 响应页面的宽度高度变化\n    setResize: function setResize() {\n      this.clientHeight = document.body.clientHeight;\n      this.clientWidth = document.body.clientWidth;\n      this.$refs.appMain.$el.style.minHeight = \"\".concat(this.clientHeight - totalHeight + 20, \"px\");\n    }\n  },\n  watch: {\n    isCollapse: function isCollapse() {\n      if (this.isPhone) {\n        // 手机模式\n        this.sideBarWidth = sideBarWidth;\n\n        if (this.isCollapse === false) {\n          this.transX = 0;\n        } else {\n          this.transX = -1 * sideBarWidth;\n        }\n      } else {\n        this.transX = 0;\n        this.sideBarWidth = this.isCollapse === false ? sideBarWidth : '64px';\n      }\n    },\n    $route: function $route() {\n      this.showBackTop = false;\n\n      if (this.scrollY <= 70) {\n        // MenuTab组件高度\n        this.backTop();\n      }\n\n      if (this.isPhone && this.isCollapse) {\n        this.changeSlidebarState();\n      }\n    }\n  },\n  components: {\n    NavBar: NavBar,\n    SideBar: SideBar,\n    AppMain: AppMain,\n    ReuseTab: ReuseTab,\n    MenuTab: MenuTab,\n    BackTop: BackTop\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.eventBus.$off('noReuse');\n    this.eventBus.$off('hasReuse');\n  }\n};",{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div style=\"height:100%;\">\r\n        <el-container>\r\n            <el-aside :width=\"sideBarWidth\" class=\"aside\" :style=\"asideStyle\">\r\n                <side-bar :isCollapse=\"isCollapse\" :is-phone=\"isPhone\"></side-bar>\r\n            </el-aside>\r\n            <el-container>\r\n                <el-header class=\"header\">\r\n                    <div class=\"left\">\r\n                        <div class=\"operate\" ref=\"operate\">\r\n                            <i class=\"iconfont icon-fold\" :class=\"{ rotate: foldState }\" @click=\"changeSlidebarState\"/>\r\n                            <nav-bar></nav-bar>\r\n                        </div>\r\n                        <el-collapse-transition>\r\n                            <reuse-tab ref=\"reuse\"></reuse-tab>\r\n                        </el-collapse-transition>\r\n                    </div>\r\n                </el-header>\r\n                <el-main ref=\"main\">\r\n                    <menu-tab></menu-tab>\r\n                    <app-main ref=\"appMain\"></app-main>\r\n                </el-main>\r\n                <back-top :right=\"50\" :bottom=\"50\" :fontSize=\"34\"></back-top>\r\n            </el-container>\r\n            <div class=\"sidenav-mask\" :class=\"{ show: isPhone && isCollapse }\" @click=\"changeSlidebarState\"></div>\r\n        </el-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import {NavBar, SideBar, AppMain, ReuseTab, MenuTab, BackTop} from '@/components/layout';\r\n\r\n  const navBarHeight = 66; // header高度\r\n  const reuseTabHeight = 70; // 历史记录栏高度\r\n  const marginHeight = 20; // 历史记录栏与舞台的间距\r\n  const sideBarWidth = '210px';\r\n  const totalHeight = navBarHeight + reuseTabHeight + marginHeight;\r\n\r\n  export default {\r\n    name: 'layout',\r\n    data() {\r\n      return {\r\n        isCollapse: false, // 左侧菜单栏是否折叠\r\n        sideBarWidth, // 左侧菜单栏展开的宽度\r\n        clientWidth: 0, // 页面宽度\r\n        clientHeight: 0, // 页面高度\r\n        foldState: false, // 控制左侧菜单栏按键\r\n        isPhone: false,\r\n      };\r\n    },\r\n    created() {\r\n    },\r\n    mounted() {\r\n      this.setResize();\r\n      // console.log(this.clientWidth)\r\n      if (this.clientWidth < 500) {\r\n        this.isPhone = true;\r\n      } else {\r\n        this.isPhone = false;\r\n        // 检测屏幕宽度, 确定默认是否展开\r\n        if (this.clientWidth <= 768) {\r\n          this.eventBus.$emit('removeSidebarSearch');\r\n          this.isCollapse = true;\r\n        } else {\r\n          this.isCollapse = false;\r\n          this.eventBus.$emit('showSidebarSearch');\r\n        }\r\n      }\r\n      // 监测屏幕宽度 折叠左侧菜单栏\r\n      window.onresize = () => {\r\n        this.setResize();\r\n        if (this.clientWidth <= 500) {\r\n          this.isPhone = true;\r\n        } else if (this.clientWidth <= 800) {\r\n          this.isPhone = false;\r\n        }\r\n\r\n        // if (_this.clientWidth <= 768) {\r\n        //   // 页面宽度 768\r\n        //   if (_this.isCollapse === false) {\r\n        //     _this.eventBus.$emit('removeSidebarSearch')\r\n        //     _this.isCollapse = true\r\n        //   }\r\n        // } else if (_this.isCollapse === true) {\r\n        //   _this.eventBus.$emit('showSidebarSearch')\r\n        //   _this.isCollapse = false\r\n        // }\r\n      };\r\n\r\n      this.eventBus.$on('noReuse', () => {\r\n        this.$refs.operate.style.height = '86px';\r\n      });\r\n      this.eventBus.$on('hasReuse', () => {\r\n        this.$refs.operate.style.height = '45px';\r\n      });\r\n    },\r\n    inject: ['eventBus'],\r\n    computed: {\r\n      elMenuCollapse() {\r\n        if (this.isPhone) {\r\n          return false;\r\n        }\r\n\r\n        return this.isCollapse;\r\n      },\r\n      asideStyle() {\r\n        const style = {};\r\n        if (this.isPhone) {\r\n          style.position = 'absolute';\r\n          style.height = `${this.clientHeight}px`;\r\n          style.zIndex = 12;\r\n          if (this.isCollapse === false) {\r\n            style.transform = `translateX(-${sideBarWidth})`;\r\n          } else {\r\n            style.transform = 'translateX(0)';\r\n          }\r\n        }\r\n        return style;\r\n      },\r\n    },\r\n    methods: {\r\n      // 控制菜单折叠\r\n      changeSlidebarState() {\r\n        this.isCollapse = !this.isCollapse;\r\n        if (this.isCollapse) {\r\n          this.eventBus.$emit('removeSidebarSearch');\r\n        } else {\r\n          this.eventBus.$emit('showSidebarSearch');\r\n        }\r\n        this.foldState = !this.foldState;\r\n      },\r\n      // 响应页面的宽度高度变化\r\n      setResize() {\r\n        this.clientHeight = document.body.clientHeight;\r\n        this.clientWidth = document.body.clientWidth;\r\n        this.$refs.appMain.$el.style.minHeight = `${this.clientHeight - totalHeight + 20}px`;\r\n      },\r\n    },\r\n    watch: {\r\n      isCollapse() {\r\n        if (this.isPhone) {\r\n          // 手机模式\r\n          this.sideBarWidth = sideBarWidth;\r\n          if (this.isCollapse === false) {\r\n            this.transX = 0;\r\n          } else {\r\n            this.transX = -1 * sideBarWidth;\r\n          }\r\n        } else {\r\n          this.transX = 0;\r\n          this.sideBarWidth = this.isCollapse === false ? sideBarWidth : '64px';\r\n        }\r\n      },\r\n      $route() {\r\n        this.showBackTop = false;\r\n        if (this.scrollY <= 70) {\r\n          // MenuTab组件高度\r\n          this.backTop();\r\n        }\r\n        if (this.isPhone && this.isCollapse) {\r\n          this.changeSlidebarState();\r\n        }\r\n      },\r\n    },\r\n    components: {\r\n      NavBar,\r\n      SideBar,\r\n      AppMain,\r\n      ReuseTab,\r\n      MenuTab,\r\n      BackTop,\r\n    },\r\n    beforeDestroy() {\r\n      this.eventBus.$off('noReuse');\r\n      this.eventBus.$off('hasReuse');\r\n    },\r\n  };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .aside {\r\n        background: rgb(25, 42, 94);\r\n        overflow-x: hidden;\r\n\r\n        &::-webkit-scrollbar {\r\n            width: 0px;\r\n            height: 0px;\r\n        }\r\n    }\r\n\r\n    .header {\r\n        padding: 0;\r\n        background: $header-background;\r\n        height: $header-height !important;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        box-shadow: 0px 2px 6px 0px rgba(190, 204, 216, 0.4);\r\n        border-bottom: 1px solid rgba(190, 204, 216, 0.4);\r\n        z-index: 1;\r\n\r\n        .left {\r\n            height: 100%;\r\n            width: 100%;\r\n\r\n            .operate {\r\n                display: flex;\r\n                align-items: center;\r\n                background: $header-background;\r\n                padding-left: 20px;\r\n                height: 72px;\r\n\r\n                .iconfont {\r\n                    font-size: 16px;\r\n                    font-weight: 500;\r\n                    color: $right-side-font-color;\r\n                    cursor: pointer;\r\n                    transform: rotate(0deg);\r\n                    transition: all 0.3s linear;\r\n                    margin-right: 10px;\r\n\r\n                    &:hover {\r\n                        color: #3963bc;\r\n                    }\r\n                }\r\n\r\n                .rotate {\r\n                    transform: rotate(180deg);\r\n                    transition: all 0.3s linear;\r\n                }\r\n            }\r\n        }\r\n\r\n        .right-info {\r\n            display: flex;\r\n            align-items: center;\r\n        }\r\n    }\r\n\r\n    .el-main {\r\n        overflow-y: auto;\r\n        position: relative;\r\n        padding: 0;\r\n    }\r\n\r\n    .backTop {\r\n        position: fixed;\r\n        display: inline-block;\r\n        text-align: center;\r\n        cursor: pointer;\r\n        right: 50px;\r\n        bottom: 50px;\r\n        width: 22px;\r\n        height: 22px;\r\n        line-height: 22px;\r\n        border-radius: 50%;\r\n        z-index: 99;\r\n        background: #fff;\r\n\r\n        .iconfont {\r\n            font-size: 36px;\r\n        }\r\n    }\r\n\r\n    .sidenav-mask {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: rgba(0, 0, 0, 0.3);\r\n        z-index: 10;\r\n        display: none;\r\n        cursor: pointer;\r\n\r\n        &.show {\r\n            display: block;\r\n        }\r\n    }\r\n</style>\r\n"],"sourceRoot":"src/views/home"}]}