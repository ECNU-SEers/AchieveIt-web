{"remainingRequest":"/Users/reed/Desktop/AchieveIt-web/AchieveIt-web/node_modules/babel-loader/lib/index.js!/Users/reed/Desktop/AchieveIt-web/AchieveIt-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/reed/Desktop/AchieveIt-web/AchieveIt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/reed/Desktop/AchieveIt-web/AchieveIt-web/src/views/project/ProjectRisk.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/reed/Desktop/AchieveIt-web/AchieveIt-web/src/views/project/ProjectRisk.vue","mtime":1584878748000},{"path":"/Users/reed/Desktop/AchieveIt-web/AchieveIt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/reed/Desktop/AchieveIt-web/AchieveIt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/reed/Desktop/AchieveIt-web/AchieveIt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/reed/Desktop/AchieveIt-web/AchieveIt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Search from '@/components/common/Search';\nimport PageHeader from '@/components/common/PageHeader';\nimport Pagination from '@/components/common/Pagination';\nexport default {\n  components: {\n    Search: Search,\n    PageHeader: PageHeader,\n    Pagination: Pagination\n  },\n  data: function data() {\n    return {\n      riskData: [{\n        index: '1',\n        id: '1',\n        type: '技术',\n        description: '巴拉巴拉',\n        level: '中',\n        influence: '中',\n        strategy: '巴拉巴拉',\n        monitor: 'dd',\n        frequency: '一周一次',\n        related: ['狗蛋子', '李四', '二麻子'],\n        status: '未解决',\n        source: '项目自己识别'\n      }, {\n        index: '1',\n        id: '1',\n        type: '技术',\n        description: '巴拉巴拉',\n        level: '中',\n        influence: '中',\n        strategy: '巴拉巴拉',\n        monitor: 'dd',\n        frequency: '一周一次',\n        related: ['狗蛋子', '李四', '二麻子'],\n        status: '未解决',\n        source: '项目自己识别'\n      }],\n      monitors: [{\n        //资产管理者选项\n        value: '1',\n        label: '人名1'\n      }],\n      //新增\n      addFormVisible: false,\n      addForm: {\n        id: '',\n        type: '',\n        description: '',\n        level: '',\n        influence: '',\n        strategy: '',\n        monitor: '',\n        frequency: '',\n        related: []\n      },\n      rules: {\n        id: [{\n          required: true,\n          message: '请输入风险ID',\n          trigger: 'blur'\n        }],\n        type: [{\n          required: true,\n          message: '请选择风险类型',\n          trigger: 'change'\n        }],\n        description: [{\n          required: true,\n          message: '请输入风险描述',\n          trigger: 'blur'\n        }],\n        level: [{\n          required: true,\n          message: '请选择风险级别',\n          trigger: 'change'\n        }],\n        influence: [{\n          required: true,\n          message: '请选择风险影响度',\n          trigger: 'change'\n        }],\n        strategy: [{\n          required: true,\n          message: '请输入风险策略',\n          trigger: 'blur'\n        }],\n        monitor: [{\n          required: true,\n          message: '请选择资风险管理者',\n          trigger: 'change'\n        }],\n        frequency: [{\n          required: true,\n          message: '请选择风险跟踪频度',\n          trigger: 'change'\n        }],\n        status: [{\n          required: true,\n          message: '请选择风险状态',\n          trigger: 'change'\n        }],\n        related: [{\n          required: true,\n          message: '请选择至少一位风险相关者',\n          trigger: 'change'\n        }]\n      },\n      //导入\n      importFormVisible: false,\n      importSource: '',\n      importSources: [{\n        value: 'standard',\n        label: '组织标准风险库'\n      }, {\n        value: 'otherProject',\n        label: '其他项目',\n        children: [{\n          value: '1',\n          //设为label 可搜索\n          label: '开心项目（ID：balaba）'\n        }, {\n          value: '22',\n          label: '快乐项目（ID：balaba）'\n        }]\n      }]\n    };\n  },\n  methods: {\n    //新增\n    addSubmit: function addSubmit(formName) {\n      this.$refs[formName].validate(function (valid) {\n        if (valid) {\n          alert('提交成功');\n        } else {\n          alert('提交失败');\n          return false;\n        }\n      });\n    },\n    handleClose: function handleClose(done) {\n      this.$confirm('确认关闭？').then(function (_) {\n        done();\n      }).catch(function (_) {});\n    },\n    handleForm: function handleForm(formName) {\n      if (this.$refs[formName]) {\n        this.$refs[formName].clearValidate();\n        this.$refs[formName].resetFields();\n      }\n    },\n    //修改\n    editSubmit: function editSubmit(formName) {\n      alert('修改成功');\n      addFormVisible = false;\n    },\n    //删除\n    deleteSubmit: function deleteSubmit() {\n      alert('删除成功');\n    }\n  }\n};",{"version":3,"sources":["ProjectRisk.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <PageHeader title=\"风险信息\">\r\n      <!--工具条：搜索栏-->\r\n      <Search />\r\n      <div style=\"width:20px;height=100%;\"></div>\r\n\r\n      <!--新增风险信息-->\r\n      <el-button\r\n        size=\"medium\"\r\n        @click=\"addFormVisible = true\"\r\n        type=\"primary\"\r\n        class=\"top-btn\"\r\n        >新增</el-button\r\n      >\r\n\r\n      <!--导入-->\r\n      <el-button\r\n        size=\"medium\"\r\n        @click=\"importFormVisible = true\"\r\n        type=\"primary\"\r\n        class=\"top-btn\"\r\n        >导入</el-button\r\n      >\r\n    </PageHeader>\r\n\r\n    <!--列表展示-->\r\n    <Pagination>\r\n      <el-table\r\n        :data=\"riskData\"\r\n        stripe\r\n        border\r\n        :default-sort=\"{ prop: 'id', order: 'ascending' }\"\r\n        highlight-current-row\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column label=\"序号\" prop=\"index\" fixed></el-table-column>\r\n\r\n        <el-table-column label=\"风险 ID\" prop=\"id\"></el-table-column>\r\n\r\n        <el-table-column label=\"风险类型\" prop=\"type\"></el-table-column>\r\n\r\n        <el-table-column label=\"风险描述\" prop=\"description\"></el-table-column>\r\n\r\n        <el-table-column label=\"风险级别\" prop=\"level\"></el-table-column>\r\n\r\n        <el-table-column label=\"风险影响度\" prop=\"influence\"></el-table-column>\r\n\r\n        <el-table-column label=\"风险应对策略\" prop=\"strategy\"></el-table-column>\r\n\r\n        <el-table-column label=\"风险状态\" prop=\"status\"></el-table-column>\r\n\r\n        <el-table-column label=\"风险责任人\" prop=\"monitor\"></el-table-column>\r\n\r\n        <el-table-column\r\n          label=\"风险跟踪频度\"\r\n          prop=\"frequency\"\r\n        ></el-table-column>\r\n\r\n        <el-table-column label=\"风险相关者\" prop=\"related\"></el-table-column>\r\n\r\n        <el-table-column label=\"风险来源\" prop=\"source\"></el-table-column>\r\n\r\n        <!---编辑和移除-->\r\n        <el-table-column label=\"操作\" width=\"180px\" prop=\"action\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button-group>\r\n              <el-button\r\n                type=\"primary\"\r\n                icon=\"el-icon-edit\"\r\n                size=\"medium\"\r\n                @click=\"addFormVisible = true\"\r\n              ></el-button>\r\n\r\n              <el-button\r\n                type=\"danger\"\r\n                size=\"medium\"\r\n                icon=\"el-icon-delete\"\r\n                @click=\"deleteSubmit\"\r\n              ></el-button>\r\n            </el-button-group>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </Pagination>\r\n\r\n    <!--新增-->\r\n    <el-dialog\r\n      title=\"风险信息\"\r\n      :visible.sync=\"addFormVisible\"\r\n      :before-close=\"handleClose\"\r\n      @open=\"handleForm('addForm')\"\r\n      :append-to-body=\"true\"\r\n    >\r\n      <el-form\r\n        :model=\"addForm\"\r\n        :rules=\"rules\"\r\n        ref=\"addForm\"\r\n        label-width=\"120px\"\r\n      >\r\n        <!--文本框-->\r\n        <el-form-item label=\"风险ID:\" prop=\"id\">\r\n          <el-input v-model=\"addForm.id\"></el-input>\r\n        </el-form-item>\r\n\r\n        <!--文本框-->\r\n        <el-form-item label=\"风险类型:\" prop=\"type\">\r\n          <el-input v-model=\"addForm.type\"></el-input>\r\n        </el-form-item>\r\n\r\n        <!--文本域-->\r\n        <el-form-item label=\"风险描述:\" prop=\"description\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :row=\"3\"\r\n            placeholder=\"请对该风险进行简要描述\"\r\n            v-model=\"addForm.description\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <!--单选-->\r\n        <el-form-item label=\"风险级别:\" prop=\"level\">\r\n          <el-radio-group v-model=\"addForm.level\">\r\n            <el-radio label=\"低\"></el-radio>\r\n            <el-radio label=\"中\"></el-radio>\r\n            <el-radio label=\"高\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <!--单选-->\r\n        <el-form-item label=\"风险影响度:\" prop=\"influence\">\r\n          <el-radio-group v-model=\"addForm.influence\">\r\n            <el-radio label=\"低\"></el-radio>\r\n            <el-radio label=\"中\"></el-radio>\r\n            <el-radio label=\"高\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <!--文本域-->\r\n        <el-form-item label=\"风险应对策略:\" prop=\"strategy\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :row=\"3\"\r\n            placeholder=\"请输入风险应对策略\"\r\n            v-model=\"addForm.strategy\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <!--单选-->\r\n        <el-form-item label=\"风险状态:\" prop=\"status\">\r\n          <el-radio-group v-model=\"addForm.influence\">\r\n            <el-radio label=\"未解决\"></el-radio>\r\n            <el-radio label=\"已解决\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <!--带搜索的下拉选择-->\r\n        <el-form-item label=\"风险责任人:\" prop=\"monitor\">\r\n          <el-select\r\n            v-model=\"addForm.monitor\"\r\n            filterable\r\n            placeholder=\"请选择该风险责任人\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in monitors\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <!--单选-->\r\n        <el-form-item label=\"风险跟踪频度:\" prop=\"frequency\">\r\n          <el-radio-group v-model=\"addForm.frequency\">\r\n            <el-radio label=\"一天一次\"></el-radio>\r\n            <el-radio label=\"一周一次\"></el-radio>\r\n            <el-radio label=\"一月一次\"></el-radio>\r\n            <el-radio label=\"三月一次\"></el-radio>\r\n            <el-radio label=\"半年一次\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <!--风险相关人员 （多选、可搜索）-->\r\n        <el-form-item label=\"风险相关者:\" prop=\"related\">\r\n          <el-select\r\n            v-model=\"addForm.related\"\r\n            multiple\r\n            filterable\r\n            placeholder=\"请选择\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in options\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <!--不可更改-->\r\n        <el-form-item label=\"资产来源:\">\r\n          <el-input\r\n            placeholder=\"系统本身识别\"\r\n            v-model=\"addForm.source\"\r\n            :disabled=\"true\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"addSubmit('addForm')\"\r\n            style=\"margin-right:8%;\"\r\n            >添加</el-button\r\n          >\r\n          <el-button @click=\"addFormVisible = false\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n\r\n    <!--导入-->\r\n    <el-dialog\r\n      title=\"导入风险信息\"\r\n      :visible.sync=\"importFormVisible\"\r\n      :before-close=\"handleClose\"\r\n      @open=\"handleForm('importForm')\"\r\n      :append-to-body=\"true\"\r\n      center\r\n    >\r\n      <div\r\n        style=\"text-align:center;margin:-20px auto 0 auto;color:red;font-size:1px;\"\r\n      >\r\n        <span\r\n          >(提示：若从其他项目导入，可直接搜索项目ID，所选项目所有风险将会被导入)</span\r\n        >\r\n        <div style=\"padding-top:30px;\">\r\n          <el-cascader\r\n            v-model=\"importSource\"\r\n            :options=\"importSources\"\r\n            :props=\"{ expandTrigger: 'hover' }\"\r\n            :show-all-levels=\"false\"\r\n            filterable\r\n            @change=\"handleChange\"\r\n          ></el-cascader>\r\n        </div>\r\n        <div style=\"padding-top:30px;\">\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"addSubmit('importForm')\"\r\n            style=\"margin-right:8%;\"\r\n            >导入</el-button\r\n          >\r\n          <el-button @click=\"addFormVisible = false\">取消</el-button>\r\n        </div>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <!--编辑-->\r\n    <el-dialog\r\n      title=\"风险信息\"\r\n      :visible.sync=\"addFormVisible\"\r\n      :before-close=\"handleClose\"\r\n      @open=\"handleForm('addForm')\"\r\n      :append-to-body=\"true\"\r\n    >\r\n      <el-form\r\n        :model=\"addForm\"\r\n        :rules=\"rules\"\r\n        ref=\"addForm\"\r\n        label-width=\"120px\"\r\n      >\r\n        <!--文本框-->\r\n        <el-form-item label=\"风险ID:\" prop=\"id\">\r\n          <el-input v-model=\"addForm.id\"></el-input>\r\n        </el-form-item>\r\n\r\n        <!--文本框-->\r\n        <el-form-item label=\"风险类型:\" prop=\"type\">\r\n          <el-input v-model=\"addForm.type\"></el-input>\r\n        </el-form-item>\r\n\r\n        <!--文本域-->\r\n        <el-form-item label=\"风险描述:\" prop=\"description\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :row=\"3\"\r\n            placeholder=\"请对该风险进行简要描述\"\r\n            v-model=\"addForm.description\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <!--单选-->\r\n        <el-form-item label=\"风险级别:\" prop=\"level\">\r\n          <el-radio-group v-model=\"addForm.level\">\r\n            <el-radio label=\"低\"></el-radio>\r\n            <el-radio label=\"中\"></el-radio>\r\n            <el-radio label=\"高\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <!--单选-->\r\n        <el-form-item label=\"风险影响度:\" prop=\"influence\">\r\n          <el-radio-group v-model=\"addForm.influence\">\r\n            <el-radio label=\"低\"></el-radio>\r\n            <el-radio label=\"中\"></el-radio>\r\n            <el-radio label=\"高\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <!--文本域-->\r\n        <el-form-item label=\"风险应对策略:\" prop=\"strategy\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :row=\"3\"\r\n            placeholder=\"请输入风险应对策略\"\r\n            v-model=\"addForm.strategy\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <!--单选-->\r\n        <el-form-item label=\"风险状态:\" prop=\"status\">\r\n          <el-radio-group v-model=\"addForm.influence\">\r\n            <el-radio label=\"未解决\"></el-radio>\r\n            <el-radio label=\"已解决\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <!--带搜索的下拉选择-->\r\n        <el-form-item label=\"风险责任人:\" prop=\"monitor\">\r\n          <el-select\r\n            v-model=\"addForm.monitor\"\r\n            filterable\r\n            placeholder=\"请选择该风险责任人\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in monitors\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <!--单选-->\r\n        <el-form-item label=\"风险跟踪频度:\" prop=\"frequency\">\r\n          <el-radio-group v-model=\"addForm.frequency\">\r\n            <el-radio label=\"一天一次\"></el-radio>\r\n            <el-radio label=\"一周一次\"></el-radio>\r\n            <el-radio label=\"一月一次\"></el-radio>\r\n            <el-radio label=\"三月一次\"></el-radio>\r\n            <el-radio label=\"半年一次\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <!--风险相关人员 （多选、可搜索）-->\r\n        <el-form-item label=\"风险相关者:\" prop=\"related\">\r\n          <el-select\r\n            v-model=\"addForm.related\"\r\n            multiple\r\n            filterable\r\n            placeholder=\"请选择\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in options\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <!--不可更改-->\r\n        <el-form-item label=\"资产来源:\">\r\n          <el-input\r\n            placeholder=\"系统本身识别\"\r\n            v-model=\"addForm.source\"\r\n            :disabled=\"true\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"addSubmit('addForm')\"\r\n            style=\"margin-right:8%;\"\r\n            >添加</el-button\r\n          >\r\n          <el-button @click=\"addFormVisible = false\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Search from '@/components/common/Search';\r\nimport PageHeader from '@/components/common/PageHeader';\r\nimport Pagination from '@/components/common/Pagination';\r\n\r\nexport default {\r\n  components: {\r\n    Search,\r\n    PageHeader,\r\n    Pagination\r\n  },\r\n  data() {\r\n    return {\r\n      riskData: [\r\n        {\r\n          index: '1',\r\n          id: '1',\r\n          type: '技术',\r\n          description: '巴拉巴拉',\r\n          level: '中',\r\n          influence: '中',\r\n          strategy: '巴拉巴拉',\r\n          monitor: 'dd',\r\n          frequency: '一周一次',\r\n          related: ['狗蛋子', '李四', '二麻子'],\r\n          status: '未解决',\r\n          source: '项目自己识别'\r\n        },\r\n        {\r\n          index: '1',\r\n          id: '1',\r\n          type: '技术',\r\n          description: '巴拉巴拉',\r\n          level: '中',\r\n          influence: '中',\r\n          strategy: '巴拉巴拉',\r\n          monitor: 'dd',\r\n          frequency: '一周一次',\r\n          related: ['狗蛋子', '李四', '二麻子'],\r\n          status: '未解决',\r\n          source: '项目自己识别'\r\n        }\r\n      ],\r\n      monitors: [\r\n        {\r\n          //资产管理者选项\r\n          value: '1',\r\n          label: '人名1'\r\n        }\r\n      ],\r\n\r\n      //新增\r\n      addFormVisible: false,\r\n      addForm: {\r\n        id: '',\r\n        type: '',\r\n        description: '',\r\n        level: '',\r\n        influence: '',\r\n        strategy: '',\r\n        monitor: '',\r\n        frequency: '',\r\n        related: []\r\n      },\r\n      rules: {\r\n        id: [{ required: true, message: '请输入风险ID', trigger: 'blur' }],\r\n        type: [\r\n          { required: true, message: '请选择风险类型', trigger: 'change' }\r\n        ],\r\n        description: [\r\n          { required: true, message: '请输入风险描述', trigger: 'blur' }\r\n        ],\r\n        level: [\r\n          { required: true, message: '请选择风险级别', trigger: 'change' }\r\n        ],\r\n        influence: [\r\n          { required: true, message: '请选择风险影响度', trigger: 'change' }\r\n        ],\r\n        strategy: [\r\n          { required: true, message: '请输入风险策略', trigger: 'blur' }\r\n        ],\r\n        monitor: [\r\n          { required: true, message: '请选择资风险管理者', trigger: 'change' }\r\n        ],\r\n        frequency: [\r\n          { required: true, message: '请选择风险跟踪频度', trigger: 'change' }\r\n        ],\r\n        status: [\r\n          { required: true, message: '请选择风险状态', trigger: 'change' }\r\n        ],\r\n        related: [\r\n          {\r\n            required: true,\r\n            message: '请选择至少一位风险相关者',\r\n            trigger: 'change'\r\n          }\r\n        ]\r\n      },\r\n\r\n      //导入\r\n      importFormVisible: false,\r\n      importSource: '',\r\n      importSources: [\r\n        {\r\n          value: 'standard',\r\n          label: '组织标准风险库'\r\n        },\r\n        {\r\n          value: 'otherProject',\r\n          label: '其他项目',\r\n          children: [\r\n            {\r\n              value: '1', //设为label 可搜索\r\n              label: '开心项目（ID：balaba）'\r\n            },\r\n            {\r\n              value: '22',\r\n              label: '快乐项目（ID：balaba）'\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  methods: {\r\n    //新增\r\n    addSubmit(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          alert('提交成功');\r\n        } else {\r\n          alert('提交失败');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n\r\n    handleClose(done) {\r\n      this.$confirm('确认关闭？')\r\n        .then(_ => {\r\n          done();\r\n        })\r\n        .catch(_ => {});\r\n    },\r\n\r\n    handleForm(formName) {\r\n      if (this.$refs[formName]) {\r\n        this.$refs[formName].clearValidate();\r\n        this.$refs[formName].resetFields();\r\n      }\r\n    },\r\n\r\n    //修改\r\n    editSubmit(formName) {\r\n      alert('修改成功');\r\n      addFormVisible = false;\r\n    },\r\n\r\n    //删除\r\n    deleteSubmit() {\r\n      alert('删除成功');\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.top-btn {\r\n  height: 40px;\r\n  margin-left: 20px;\r\n  border-radius: 3px;\r\n  width: 80px;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/project"}]}