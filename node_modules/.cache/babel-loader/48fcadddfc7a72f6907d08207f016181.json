{"remainingRequest":"/Users/syj/Git-Portal/AchieveIt-web/node_modules/babel-loader/lib/index.js!/Users/syj/Git-Portal/AchieveIt-web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/syj/Git-Portal/AchieveIt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/syj/Git-Portal/AchieveIt-web/src/components/notify/notify.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/syj/Git-Portal/AchieveIt-web/src/components/notify/notify.vue","mtime":1583737757297},{"path":"/Users/syj/Git-Portal/AchieveIt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/syj/Git-Portal/AchieveIt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/syj/Git-Portal/AchieveIt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/syj/Git-Portal/AchieveIt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Notify from '@/sys/models/notify';\nimport { mapGetters, mapActions } from 'vuex';\nexport default {\n  data: function data() {\n    return {\n      notify: null,\n      unreadMessages: [{\n        id: 1,\n        data: '您有一笔新订单'\n      }, {\n        id: 2,\n        data: '新收款2459元'\n      }, {\n        id: 3,\n        data: '您的套餐普洱森泉天然水已售完'\n      }],\n      readedMessages: [{\n        id: 4,\n        data: '订单12538239237已取消'\n      }, {\n        id: 5,\n        data: '订单12538239237已取消'\n      }, {\n        id: 6,\n        data: '您有一笔新订单了'\n      }]\n    };\n  },\n  computed: _objectSpread({}, mapGetters(['user'])),\n  created: function created() {\n    this.$nextTick(function () {// this.initNotify()\n    });\n  },\n  methods: _objectSpread({\n    initNotify: function initNotify() {\n      if (this.user) {\n        this.notify = new Notify('notify/');\n        this.notify.initSse();\n      }\n    }\n  }, mapActions(['readMessage'])) // filters: {\n  //   motifyFmt(value) {\n  //     const fmt = JSON.parse(value)\n  //     // fmt.message fmt.time and others\n  //     return fmt.message\n  //   },\n  // },\n\n};",{"version":3,"sources":["notify.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,OAAA,MAAA,MAAA,qBAAA;AACA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,IADA;AAEA,MAAA,cAAA,EAAA,CACA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAHA,CAFA;AAOA,MAAA,cAAA,EAAA,CACA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,EAAA,EAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAHA;AAPA,KAAA;AAaA,GAfA;AAgBA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,MAAA,CAAA,CADA,CAhBA;AAmBA,EAAA,OAnBA,qBAmBA;AACA,SAAA,SAAA,CAAA,YAAA,CACA;AACA,KAFA;AAGA,GAvBA;AAwBA,EAAA,OAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,KAAA,IAAA,EAAA;AACA,aAAA,MAAA,GAAA,IAAA,MAAA,CAAA,SAAA,CAAA;AACA,aAAA,MAAA,CAAA,OAAA;AACA;AACA;AANA,KAOA,UAAA,CAAA,CAAA,aAAA,CAAA,CAPA,CAxBA,CAiCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAvCA,CAAA","sourcesContent":["<template>\n    <el-dropdown>\n        <div class=\"notify\">\n            <el-badge :value=\"3\" class=\"item\"><img class=\"icon-img\" src=\"@/assets/img/铃铛icon.png\"/></el-badge>\n        </div>\n        <el-dropdown-menu slot=\"dropdown\" style=\"position:relative;\">\n            <div class=\"notify-title\">\n                <p>消息提醒</p>\n                <p class=\"button\">全部已读</p>\n            </div>\n            <div class=\"left-border\"></div>\n            <el-dropdown-item\n                    v-for=\"unread in unreadMessages\"\n                    class=\"unread-messages\"\n                    :key=\"unread.id\"\n                    @click.native=\"readMessage(unread)\"\n            >\n                {{ unread.data }} <span class=\"date-time\">08-16 13:22:07</span>\n            </el-dropdown-item>\n            <el-dropdown-item v-for=\"readed in readedMessages\" :key=\"readed.id\" class=\"read-messages\">\n                {{ readed.data }} <span class=\"date-time\">08-16 13:22:07</span>\n            </el-dropdown-item>\n        </el-dropdown-menu>\n    </el-dropdown>\n</template>\n\n<script>\n  import Notify from '@/sys/models/notify';\n  import {mapGetters, mapActions} from 'vuex';\n\n  export default {\n    data() {\n      return {\n        notify: null,\n        unreadMessages: [\n          {id: 1, data: '您有一笔新订单'},\n          {id: 2, data: '新收款2459元'},\n          {id: 3, data: '您的套餐普洱森泉天然水已售完'},\n        ],\n        readedMessages: [\n          {id: 4, data: '订单12538239237已取消'},\n          {id: 5, data: '订单12538239237已取消'},\n          {id: 6, data: '您有一笔新订单了'},\n        ],\n      };\n    },\n    computed: {\n      ...mapGetters(['user']),\n    },\n    created() {\n      this.$nextTick(() => {\n        // this.initNotify()\n      });\n    },\n    methods: {\n      initNotify() {\n        if (this.user) {\n          this.notify = new Notify('notify/');\n          this.notify.initSse();\n        }\n      },\n      ...mapActions(['readMessage']),\n    },\n    // filters: {\n    //   motifyFmt(value) {\n    //     const fmt = JSON.parse(value)\n    //     // fmt.message fmt.time and others\n    //     return fmt.message\n    //   },\n    // },\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n    .notify {\n        height: 36px;\n        width: 36px;\n        margin-right: 30px;\n        background: #0f1e4c;\n        border-radius: 50%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        position: relative;\n        cursor: pointer;\n\n        .icon-img {\n            width: 18px;\n            height: 18px;\n        }\n    }\n\n    .el-popper {\n        padding-left: 10px;\n\n        .el-dropdown-menu__item:nth-child(3) {\n            &:after {\n                content: '';\n                position: absolute;\n                right: 38px;\n                top: -58px;\n                border-left: 10px solid transparent;\n                border-right: 10px solid transparent;\n                border-bottom: 10px solid #fff;\n            }\n        }\n\n        .el-dropdown-menu__item.unread-messages {\n            position: relative;\n\n            &:before {\n                content: '';\n                position: absolute;\n                height: 8px;\n                width: 8px;\n                border-radius: 50%;\n                top: 50%;\n                left: 5px;\n                transform: translateY(-50%);\n                background: #f4516c;\n            }\n        }\n\n        .el-dropdown-menu__item.read-messages {\n            position: relative;\n\n            &:before {\n                content: '';\n                position: absolute;\n                height: 8px;\n                width: 8px;\n                border-radius: 50%;\n                top: 50%;\n                left: 5px;\n                transform: translateY(-50%);\n                background: #ebedf2;\n            }\n        }\n    }\n\n    .notify-title {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        font-size: 14px;\n        color: #45526b;\n        margin-left: 5px;\n        margin-right: 15px;\n        padding-bottom: 8px;\n        height: 30px;\n        min-width: 150px;\n        border-bottom: 1px solid #dee2e6;\n\n        .button {\n            font-size: 12px;\n            border: 1px solid #596c8e;\n            border-radius: 2px;\n            cursor: pointer;\n            height: 20px;\n            line-height: 20px;\n            padding-left: 5px;\n            padding-right: 5px;\n        }\n    }\n\n    .left-border {\n        position: absolute;\n        box-sizing: border-box;\n        background: #fff;\n        width: 1px;\n        height: calc(100% - 90px);\n        top: 63px;\n        left: 18px;\n        border-left-color: rgb(235, 237, 242);\n        border-left-style: solid;\n        border-left-width: 1px;\n        border-image-source: initial;\n        border-image-slice: initial;\n        border-image-width: initial;\n        border-image-outset: initial;\n        border-image-repeat: initial;\n    }\n\n    .date-time {\n        float: right;\n        padding-left: 10px;\n        white-space: nowrap;\n        overflow: hidden;\n        color: #c4c9d2;\n    }\n\n    .notify /deep/ .el-badge__content.is-fixed {\n        transform-origin: center center;\n        transform: translateY(-50%) translateX(100%) scale(0.8) !important;\n    }\n\n    .notify /deep/ .el-badge__content {\n        border: 1px solid transparent !important;\n        line-height: 20px !important;\n    }\n</style>\n"],"sourceRoot":"src/components/notify"}]}