{"remainingRequest":"/Users/reed/Desktop/AchieveIt-web/AchieveIt-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/reed/Desktop/AchieveIt-web/AchieveIt-web/src/views/project/ProjectRisk.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/reed/Desktop/AchieveIt-web/AchieveIt-web/src/views/project/ProjectRisk.vue","mtime":1584878748000},{"path":"/Users/reed/Desktop/AchieveIt-web/AchieveIt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/reed/Desktop/AchieveIt-web/AchieveIt-web/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/reed/Desktop/AchieveIt-web/AchieveIt-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/reed/Desktop/AchieveIt-web/AchieveIt-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport Search from '@/components/common/Search';\r\nimport PageHeader from '@/components/common/PageHeader';\r\nimport Pagination from '@/components/common/Pagination';\r\n\r\nexport default {\r\n  components: {\r\n    Search,\r\n    PageHeader,\r\n    Pagination\r\n  },\r\n  data() {\r\n    return {\r\n      riskData: [\r\n        {\r\n          index: '1',\r\n          id: '1',\r\n          type: '技术',\r\n          description: '巴拉巴拉',\r\n          level: '中',\r\n          influence: '中',\r\n          strategy: '巴拉巴拉',\r\n          monitor: 'dd',\r\n          frequency: '一周一次',\r\n          related: ['狗蛋子', '李四', '二麻子'],\r\n          status: '未解决',\r\n          source: '项目自己识别'\r\n        },\r\n        {\r\n          index: '1',\r\n          id: '1',\r\n          type: '技术',\r\n          description: '巴拉巴拉',\r\n          level: '中',\r\n          influence: '中',\r\n          strategy: '巴拉巴拉',\r\n          monitor: 'dd',\r\n          frequency: '一周一次',\r\n          related: ['狗蛋子', '李四', '二麻子'],\r\n          status: '未解决',\r\n          source: '项目自己识别'\r\n        }\r\n      ],\r\n      monitors: [\r\n        {\r\n          //资产管理者选项\r\n          value: '1',\r\n          label: '人名1'\r\n        }\r\n      ],\r\n\r\n      //新增\r\n      addFormVisible: false,\r\n      addForm: {\r\n        id: '',\r\n        type: '',\r\n        description: '',\r\n        level: '',\r\n        influence: '',\r\n        strategy: '',\r\n        monitor: '',\r\n        frequency: '',\r\n        related: []\r\n      },\r\n      rules: {\r\n        id: [{ required: true, message: '请输入风险ID', trigger: 'blur' }],\r\n        type: [\r\n          { required: true, message: '请选择风险类型', trigger: 'change' }\r\n        ],\r\n        description: [\r\n          { required: true, message: '请输入风险描述', trigger: 'blur' }\r\n        ],\r\n        level: [\r\n          { required: true, message: '请选择风险级别', trigger: 'change' }\r\n        ],\r\n        influence: [\r\n          { required: true, message: '请选择风险影响度', trigger: 'change' }\r\n        ],\r\n        strategy: [\r\n          { required: true, message: '请输入风险策略', trigger: 'blur' }\r\n        ],\r\n        monitor: [\r\n          { required: true, message: '请选择资风险管理者', trigger: 'change' }\r\n        ],\r\n        frequency: [\r\n          { required: true, message: '请选择风险跟踪频度', trigger: 'change' }\r\n        ],\r\n        status: [\r\n          { required: true, message: '请选择风险状态', trigger: 'change' }\r\n        ],\r\n        related: [\r\n          {\r\n            required: true,\r\n            message: '请选择至少一位风险相关者',\r\n            trigger: 'change'\r\n          }\r\n        ]\r\n      },\r\n\r\n      //导入\r\n      importFormVisible: false,\r\n      importSource: '',\r\n      importSources: [\r\n        {\r\n          value: 'standard',\r\n          label: '组织标准风险库'\r\n        },\r\n        {\r\n          value: 'otherProject',\r\n          label: '其他项目',\r\n          children: [\r\n            {\r\n              value: '1', //设为label 可搜索\r\n              label: '开心项目（ID：balaba）'\r\n            },\r\n            {\r\n              value: '22',\r\n              label: '快乐项目（ID：balaba）'\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  methods: {\r\n    //新增\r\n    addSubmit(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          alert('提交成功');\r\n        } else {\r\n          alert('提交失败');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n\r\n    handleClose(done) {\r\n      this.$confirm('确认关闭？')\r\n        .then(_ => {\r\n          done();\r\n        })\r\n        .catch(_ => {});\r\n    },\r\n\r\n    handleForm(formName) {\r\n      if (this.$refs[formName]) {\r\n        this.$refs[formName].clearValidate();\r\n        this.$refs[formName].resetFields();\r\n      }\r\n    },\r\n\r\n    //修改\r\n    editSubmit(formName) {\r\n      alert('修改成功');\r\n      addFormVisible = false;\r\n    },\r\n\r\n    //删除\r\n    deleteSubmit() {\r\n      alert('删除成功');\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["ProjectRisk.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4YA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"ProjectRisk.vue","sourceRoot":"src/views/project","sourcesContent":["<template>\r\n  <div>\r\n    <PageHeader title=\"风险信息\">\r\n      <!--工具条：搜索栏-->\r\n      <Search />\r\n      <div style=\"width:20px;height=100%;\"></div>\r\n\r\n      <!--新增风险信息-->\r\n      <el-button\r\n        size=\"medium\"\r\n        @click=\"addFormVisible = true\"\r\n        type=\"primary\"\r\n        class=\"top-btn\"\r\n        >新增</el-button\r\n      >\r\n\r\n      <!--导入-->\r\n      <el-button\r\n        size=\"medium\"\r\n        @click=\"importFormVisible = true\"\r\n        type=\"primary\"\r\n        class=\"top-btn\"\r\n        >导入</el-button\r\n      >\r\n    </PageHeader>\r\n\r\n    <!--列表展示-->\r\n    <Pagination>\r\n      <el-table\r\n        :data=\"riskData\"\r\n        stripe\r\n        border\r\n        :default-sort=\"{ prop: 'id', order: 'ascending' }\"\r\n        highlight-current-row\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column label=\"序号\" prop=\"index\" fixed></el-table-column>\r\n\r\n        <el-table-column label=\"风险 ID\" prop=\"id\"></el-table-column>\r\n\r\n        <el-table-column label=\"风险类型\" prop=\"type\"></el-table-column>\r\n\r\n        <el-table-column label=\"风险描述\" prop=\"description\"></el-table-column>\r\n\r\n        <el-table-column label=\"风险级别\" prop=\"level\"></el-table-column>\r\n\r\n        <el-table-column label=\"风险影响度\" prop=\"influence\"></el-table-column>\r\n\r\n        <el-table-column label=\"风险应对策略\" prop=\"strategy\"></el-table-column>\r\n\r\n        <el-table-column label=\"风险状态\" prop=\"status\"></el-table-column>\r\n\r\n        <el-table-column label=\"风险责任人\" prop=\"monitor\"></el-table-column>\r\n\r\n        <el-table-column\r\n          label=\"风险跟踪频度\"\r\n          prop=\"frequency\"\r\n        ></el-table-column>\r\n\r\n        <el-table-column label=\"风险相关者\" prop=\"related\"></el-table-column>\r\n\r\n        <el-table-column label=\"风险来源\" prop=\"source\"></el-table-column>\r\n\r\n        <!---编辑和移除-->\r\n        <el-table-column label=\"操作\" width=\"180px\" prop=\"action\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button-group>\r\n              <el-button\r\n                type=\"primary\"\r\n                icon=\"el-icon-edit\"\r\n                size=\"medium\"\r\n                @click=\"addFormVisible = true\"\r\n              ></el-button>\r\n\r\n              <el-button\r\n                type=\"danger\"\r\n                size=\"medium\"\r\n                icon=\"el-icon-delete\"\r\n                @click=\"deleteSubmit\"\r\n              ></el-button>\r\n            </el-button-group>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </Pagination>\r\n\r\n    <!--新增-->\r\n    <el-dialog\r\n      title=\"风险信息\"\r\n      :visible.sync=\"addFormVisible\"\r\n      :before-close=\"handleClose\"\r\n      @open=\"handleForm('addForm')\"\r\n      :append-to-body=\"true\"\r\n    >\r\n      <el-form\r\n        :model=\"addForm\"\r\n        :rules=\"rules\"\r\n        ref=\"addForm\"\r\n        label-width=\"120px\"\r\n      >\r\n        <!--文本框-->\r\n        <el-form-item label=\"风险ID:\" prop=\"id\">\r\n          <el-input v-model=\"addForm.id\"></el-input>\r\n        </el-form-item>\r\n\r\n        <!--文本框-->\r\n        <el-form-item label=\"风险类型:\" prop=\"type\">\r\n          <el-input v-model=\"addForm.type\"></el-input>\r\n        </el-form-item>\r\n\r\n        <!--文本域-->\r\n        <el-form-item label=\"风险描述:\" prop=\"description\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :row=\"3\"\r\n            placeholder=\"请对该风险进行简要描述\"\r\n            v-model=\"addForm.description\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <!--单选-->\r\n        <el-form-item label=\"风险级别:\" prop=\"level\">\r\n          <el-radio-group v-model=\"addForm.level\">\r\n            <el-radio label=\"低\"></el-radio>\r\n            <el-radio label=\"中\"></el-radio>\r\n            <el-radio label=\"高\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <!--单选-->\r\n        <el-form-item label=\"风险影响度:\" prop=\"influence\">\r\n          <el-radio-group v-model=\"addForm.influence\">\r\n            <el-radio label=\"低\"></el-radio>\r\n            <el-radio label=\"中\"></el-radio>\r\n            <el-radio label=\"高\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <!--文本域-->\r\n        <el-form-item label=\"风险应对策略:\" prop=\"strategy\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :row=\"3\"\r\n            placeholder=\"请输入风险应对策略\"\r\n            v-model=\"addForm.strategy\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <!--单选-->\r\n        <el-form-item label=\"风险状态:\" prop=\"status\">\r\n          <el-radio-group v-model=\"addForm.influence\">\r\n            <el-radio label=\"未解决\"></el-radio>\r\n            <el-radio label=\"已解决\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <!--带搜索的下拉选择-->\r\n        <el-form-item label=\"风险责任人:\" prop=\"monitor\">\r\n          <el-select\r\n            v-model=\"addForm.monitor\"\r\n            filterable\r\n            placeholder=\"请选择该风险责任人\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in monitors\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <!--单选-->\r\n        <el-form-item label=\"风险跟踪频度:\" prop=\"frequency\">\r\n          <el-radio-group v-model=\"addForm.frequency\">\r\n            <el-radio label=\"一天一次\"></el-radio>\r\n            <el-radio label=\"一周一次\"></el-radio>\r\n            <el-radio label=\"一月一次\"></el-radio>\r\n            <el-radio label=\"三月一次\"></el-radio>\r\n            <el-radio label=\"半年一次\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <!--风险相关人员 （多选、可搜索）-->\r\n        <el-form-item label=\"风险相关者:\" prop=\"related\">\r\n          <el-select\r\n            v-model=\"addForm.related\"\r\n            multiple\r\n            filterable\r\n            placeholder=\"请选择\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in options\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <!--不可更改-->\r\n        <el-form-item label=\"资产来源:\">\r\n          <el-input\r\n            placeholder=\"系统本身识别\"\r\n            v-model=\"addForm.source\"\r\n            :disabled=\"true\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"addSubmit('addForm')\"\r\n            style=\"margin-right:8%;\"\r\n            >添加</el-button\r\n          >\r\n          <el-button @click=\"addFormVisible = false\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n\r\n    <!--导入-->\r\n    <el-dialog\r\n      title=\"导入风险信息\"\r\n      :visible.sync=\"importFormVisible\"\r\n      :before-close=\"handleClose\"\r\n      @open=\"handleForm('importForm')\"\r\n      :append-to-body=\"true\"\r\n      center\r\n    >\r\n      <div\r\n        style=\"text-align:center;margin:-20px auto 0 auto;color:red;font-size:1px;\"\r\n      >\r\n        <span\r\n          >(提示：若从其他项目导入，可直接搜索项目ID，所选项目所有风险将会被导入)</span\r\n        >\r\n        <div style=\"padding-top:30px;\">\r\n          <el-cascader\r\n            v-model=\"importSource\"\r\n            :options=\"importSources\"\r\n            :props=\"{ expandTrigger: 'hover' }\"\r\n            :show-all-levels=\"false\"\r\n            filterable\r\n            @change=\"handleChange\"\r\n          ></el-cascader>\r\n        </div>\r\n        <div style=\"padding-top:30px;\">\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"addSubmit('importForm')\"\r\n            style=\"margin-right:8%;\"\r\n            >导入</el-button\r\n          >\r\n          <el-button @click=\"addFormVisible = false\">取消</el-button>\r\n        </div>\r\n      </div>\r\n    </el-dialog>\r\n\r\n    <!--编辑-->\r\n    <el-dialog\r\n      title=\"风险信息\"\r\n      :visible.sync=\"addFormVisible\"\r\n      :before-close=\"handleClose\"\r\n      @open=\"handleForm('addForm')\"\r\n      :append-to-body=\"true\"\r\n    >\r\n      <el-form\r\n        :model=\"addForm\"\r\n        :rules=\"rules\"\r\n        ref=\"addForm\"\r\n        label-width=\"120px\"\r\n      >\r\n        <!--文本框-->\r\n        <el-form-item label=\"风险ID:\" prop=\"id\">\r\n          <el-input v-model=\"addForm.id\"></el-input>\r\n        </el-form-item>\r\n\r\n        <!--文本框-->\r\n        <el-form-item label=\"风险类型:\" prop=\"type\">\r\n          <el-input v-model=\"addForm.type\"></el-input>\r\n        </el-form-item>\r\n\r\n        <!--文本域-->\r\n        <el-form-item label=\"风险描述:\" prop=\"description\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :row=\"3\"\r\n            placeholder=\"请对该风险进行简要描述\"\r\n            v-model=\"addForm.description\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <!--单选-->\r\n        <el-form-item label=\"风险级别:\" prop=\"level\">\r\n          <el-radio-group v-model=\"addForm.level\">\r\n            <el-radio label=\"低\"></el-radio>\r\n            <el-radio label=\"中\"></el-radio>\r\n            <el-radio label=\"高\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <!--单选-->\r\n        <el-form-item label=\"风险影响度:\" prop=\"influence\">\r\n          <el-radio-group v-model=\"addForm.influence\">\r\n            <el-radio label=\"低\"></el-radio>\r\n            <el-radio label=\"中\"></el-radio>\r\n            <el-radio label=\"高\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <!--文本域-->\r\n        <el-form-item label=\"风险应对策略:\" prop=\"strategy\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :row=\"3\"\r\n            placeholder=\"请输入风险应对策略\"\r\n            v-model=\"addForm.strategy\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <!--单选-->\r\n        <el-form-item label=\"风险状态:\" prop=\"status\">\r\n          <el-radio-group v-model=\"addForm.influence\">\r\n            <el-radio label=\"未解决\"></el-radio>\r\n            <el-radio label=\"已解决\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <!--带搜索的下拉选择-->\r\n        <el-form-item label=\"风险责任人:\" prop=\"monitor\">\r\n          <el-select\r\n            v-model=\"addForm.monitor\"\r\n            filterable\r\n            placeholder=\"请选择该风险责任人\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in monitors\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <!--单选-->\r\n        <el-form-item label=\"风险跟踪频度:\" prop=\"frequency\">\r\n          <el-radio-group v-model=\"addForm.frequency\">\r\n            <el-radio label=\"一天一次\"></el-radio>\r\n            <el-radio label=\"一周一次\"></el-radio>\r\n            <el-radio label=\"一月一次\"></el-radio>\r\n            <el-radio label=\"三月一次\"></el-radio>\r\n            <el-radio label=\"半年一次\"></el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <!--风险相关人员 （多选、可搜索）-->\r\n        <el-form-item label=\"风险相关者:\" prop=\"related\">\r\n          <el-select\r\n            v-model=\"addForm.related\"\r\n            multiple\r\n            filterable\r\n            placeholder=\"请选择\"\r\n          >\r\n            <el-option\r\n              v-for=\"item in options\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n\r\n        <!--不可更改-->\r\n        <el-form-item label=\"资产来源:\">\r\n          <el-input\r\n            placeholder=\"系统本身识别\"\r\n            v-model=\"addForm.source\"\r\n            :disabled=\"true\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item>\r\n          <el-button\r\n            type=\"primary\"\r\n            @click=\"addSubmit('addForm')\"\r\n            style=\"margin-right:8%;\"\r\n            >添加</el-button\r\n          >\r\n          <el-button @click=\"addFormVisible = false\">取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Search from '@/components/common/Search';\r\nimport PageHeader from '@/components/common/PageHeader';\r\nimport Pagination from '@/components/common/Pagination';\r\n\r\nexport default {\r\n  components: {\r\n    Search,\r\n    PageHeader,\r\n    Pagination\r\n  },\r\n  data() {\r\n    return {\r\n      riskData: [\r\n        {\r\n          index: '1',\r\n          id: '1',\r\n          type: '技术',\r\n          description: '巴拉巴拉',\r\n          level: '中',\r\n          influence: '中',\r\n          strategy: '巴拉巴拉',\r\n          monitor: 'dd',\r\n          frequency: '一周一次',\r\n          related: ['狗蛋子', '李四', '二麻子'],\r\n          status: '未解决',\r\n          source: '项目自己识别'\r\n        },\r\n        {\r\n          index: '1',\r\n          id: '1',\r\n          type: '技术',\r\n          description: '巴拉巴拉',\r\n          level: '中',\r\n          influence: '中',\r\n          strategy: '巴拉巴拉',\r\n          monitor: 'dd',\r\n          frequency: '一周一次',\r\n          related: ['狗蛋子', '李四', '二麻子'],\r\n          status: '未解决',\r\n          source: '项目自己识别'\r\n        }\r\n      ],\r\n      monitors: [\r\n        {\r\n          //资产管理者选项\r\n          value: '1',\r\n          label: '人名1'\r\n        }\r\n      ],\r\n\r\n      //新增\r\n      addFormVisible: false,\r\n      addForm: {\r\n        id: '',\r\n        type: '',\r\n        description: '',\r\n        level: '',\r\n        influence: '',\r\n        strategy: '',\r\n        monitor: '',\r\n        frequency: '',\r\n        related: []\r\n      },\r\n      rules: {\r\n        id: [{ required: true, message: '请输入风险ID', trigger: 'blur' }],\r\n        type: [\r\n          { required: true, message: '请选择风险类型', trigger: 'change' }\r\n        ],\r\n        description: [\r\n          { required: true, message: '请输入风险描述', trigger: 'blur' }\r\n        ],\r\n        level: [\r\n          { required: true, message: '请选择风险级别', trigger: 'change' }\r\n        ],\r\n        influence: [\r\n          { required: true, message: '请选择风险影响度', trigger: 'change' }\r\n        ],\r\n        strategy: [\r\n          { required: true, message: '请输入风险策略', trigger: 'blur' }\r\n        ],\r\n        monitor: [\r\n          { required: true, message: '请选择资风险管理者', trigger: 'change' }\r\n        ],\r\n        frequency: [\r\n          { required: true, message: '请选择风险跟踪频度', trigger: 'change' }\r\n        ],\r\n        status: [\r\n          { required: true, message: '请选择风险状态', trigger: 'change' }\r\n        ],\r\n        related: [\r\n          {\r\n            required: true,\r\n            message: '请选择至少一位风险相关者',\r\n            trigger: 'change'\r\n          }\r\n        ]\r\n      },\r\n\r\n      //导入\r\n      importFormVisible: false,\r\n      importSource: '',\r\n      importSources: [\r\n        {\r\n          value: 'standard',\r\n          label: '组织标准风险库'\r\n        },\r\n        {\r\n          value: 'otherProject',\r\n          label: '其他项目',\r\n          children: [\r\n            {\r\n              value: '1', //设为label 可搜索\r\n              label: '开心项目（ID：balaba）'\r\n            },\r\n            {\r\n              value: '22',\r\n              label: '快乐项目（ID：balaba）'\r\n            }\r\n          ]\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  methods: {\r\n    //新增\r\n    addSubmit(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          alert('提交成功');\r\n        } else {\r\n          alert('提交失败');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n\r\n    handleClose(done) {\r\n      this.$confirm('确认关闭？')\r\n        .then(_ => {\r\n          done();\r\n        })\r\n        .catch(_ => {});\r\n    },\r\n\r\n    handleForm(formName) {\r\n      if (this.$refs[formName]) {\r\n        this.$refs[formName].clearValidate();\r\n        this.$refs[formName].resetFields();\r\n      }\r\n    },\r\n\r\n    //修改\r\n    editSubmit(formName) {\r\n      alert('修改成功');\r\n      addFormVisible = false;\r\n    },\r\n\r\n    //删除\r\n    deleteSubmit() {\r\n      alert('删除成功');\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.top-btn {\r\n  height: 40px;\r\n  margin-left: 20px;\r\n  border-radius: 3px;\r\n  width: 80px;\r\n}\r\n</style>\r\n"]}]}